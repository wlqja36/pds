<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="Oct_vacationInfo" left="0" top="0" width="1280" height="1024" titletext="New Form" onload="Oct_vacationInfo_onload">
    <Layouts>
      <Layout>
        <ImageViewer id="ImageViewer00" taborder="36" left="19" top="67" width="1235" height="44" style="background:#d8dcedff;border:1 solid #969696ff ;"/>
        <ImageViewer id="img_titlebg" taborder="0" left="7" top="8" width="1265" height="45" style="background:#165fa6ff;"/>
        <Static id="Static00" taborder="1" text="연차정보" onclick="Static00_onclick" left="1.56%" top="11" right="85.94%" height="36" style="color:#ffffffff;font:bold 16 Dotum;"/>
        <Static id="Static01" taborder="3" text="검색" onclick="Static01_onclick" left="1.72%" top="75" right="93.2%" height="19" style="border:0 none #808080ff ;color:#000080ff;align:center;font:bold 9 Dotum;"/>
        <Grid id="grd_vac_info" taborder="7" scrollbars="fixedboth" useinputpanel="false" oncelldblclick="grid_fn" left="14" top="120" height="314" width="1228" style="font:9 Dotum;" binddataset="ds_vacation_info">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="106"/>
                <Column size="75"/>
                <Column size="83"/>
                <Column size="72"/>
                <Column size="123"/>
                <Column size="68"/>
                <Column size="119"/>
                <Column size="60"/>
                <Column size="118"/>
                <Column size="89"/>
                <Column size="107"/>
                <Column size="111"/>
                <Column size="69"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="사원번호"/>
                <Cell col="1" text="연차코드번호"/>
                <Cell col="2" text="발생휴가일수"/>
                <Cell col="3" text="사용휴가일수"/>
                <Cell col="4" text="등록자사번"/>
                <Cell col="5" text="등록일시"/>
                <Cell col="6" text="수정자사번"/>
                <Cell col="7" text="수정일시"/>
                <Cell col="8" text="확정자사번"/>
                <Cell col="9" text="확정일시"/>
                <Cell col="10" text="사용기간시작"/>
                <Cell col="11" text="사용기간종료"/>
                <Cell col="12" text="확정여부"/>
              </Band>
              <Band id="body">
                <Cell text="bind:emp_no"/>
                <Cell col="1" text="bind:vacation_code_id"/>
                <Cell col="2" text="bind:vacation_days"/>
                <Cell col="3" text="bind:use_days"/>
                <Cell col="4" text="bind:reg_emp_id"/>
                <Cell col="5" text="bind:reg_date"/>
                <Cell col="6" text="bind:modify_emp_id"/>
                <Cell col="7" text="bind:modify_date"/>
                <Cell col="8" text="bind:confirm_emp_id"/>
                <Cell col="9" text="bind:confirm_date"/>
                <Cell col="10" text="bind:use_start" mask="####-##-##"/>
                <Cell col="11" text="bind:use_end" mask="####-##-##"/>
                <Cell col="12" displaytype="normal" text="bind:confirmyn"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_vac_infoinsert" taborder="8" text="추가" left="1001" top="446" height="27" width="76" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;" onclick="btn_vac_infoinsert_onclick"/>
        <Button id="btn_vac_infosave" taborder="9" text="등록" left="1085" top="446" height="27" width="76" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;" onclick="btn_vac_infosave_onclick"/>
        <Button id="btn_vac_infodelete" taborder="10" text="삭제" left="1169" top="446" height="27" width="76" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;" onclick="btn_vac_infodelete_onclick"/>
        <Button id="btn_vac_inforeset" taborder="11" text="초기화" left="917" top="446" height="27" width="76" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;" onclick="btn_vac_inforeset_onclick"/>
        <Static id="Static04" taborder="33" wordwrap="char" left="22" top="70" width="1230" height="36" style="background:#f0f0f0ff;border:1 solid #969696ff ;" onclick="Static04_onclick"/>
        <Static id="sta_vac_infosearch" taborder="17" text="검색(사원번호, 사원명)" left="25" top="72" width="197" height="32" style="background:#f4edfaff;color:#133678ff;align:middle;font:bold 9 굴림;"/>
        <Div id="Div02" taborder="28" left="219" top="616" height="32" style="border:1 solid #808080ff ;" width="1016">
          <Layouts>
            <Layout>
              <Radio id="rd_vac_confirmyn" taborder="0" codecolumn="codecolumn" datacolumn="datacolumn" left="6" top="5" width="572" height="22">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">Y</Col>
                      <Col id="datacolumn">확정</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">N</Col>
                      <Col id="datacolumn">미확정</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
            </Layout>
          </Layouts>
        </Div>
        <Button id="btn_vac_empsearch" taborder="31" text="사원찾기" left="804" top="76" height="27" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;" width="92" onclick="btn_vac_empsearch_onclick"/>
        <Div id="Div01" taborder="37" left="13" top="486" width="1233" height="173" style="background:#f0f0f0ff;border:0 solid #808080ff ;" scrollbars="none">
          <Layouts>
            <Layout>
              <Div id="Div02" taborder="39" left="0.57%" top="67" right="0.97%" height="34" style="border:1 solid #808080ff ;" scrollbars="none">
                <Layouts>
                  <Layout width="1214" height="34">
                    <Static id="sta_vac_insertdate" taborder="35" text="등록일시" left="0%" top="-1" right="83.66%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Static id="sta_vac_insertno" taborder="36" text="등록자사번" left="32.34%" top="-1" right="49.92%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Static id="sta_vac_modifydate" taborder="37" text="수정일시" left="64.52%" top="-1" right="17.74%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Calendar id="cal_vac_insertdate" taborder="38" left="17.24%" top="4" right="68.15%" height="22"/>
                    <Calendar id="cal_vac_modifydate" taborder="41" left="83.33%" top="6" right="1.49%" height="22"/>
                    <Edit id="edt_vac_insertno" taborder="42" oneditclick="Div01_Div02_edt_vac_insertno_oneditclick" left="50.74%" top="5" right="36.39%" height="22"/>
                    <Button id="btn_vac_insertno" taborder="40" onclick="Div01_Div02_btn_vac_insertno_onclick" left="60.97%" top="5" right="36.3%" height="22" style="image:URL('img::btn_WF_SearchSmall.png');background:white;color:white;"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
              <Div id="Div03" taborder="40" text="Div03" left="0.57%" top="99" right="0.97%" height="33" style="border:1 solid #808080ff ;" scrollbars="none">
                <Layouts>
                  <Layout>
                    <Static id="sta_vac_modifyno" taborder="40" text="수정자사번" left="0%" top="-2" right="83.66%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Static id="sta_vac_deterdate" taborder="41" text="확정일시" left="32.34%" top="-2" right="49.92%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Static id="sta_vac_deterno" taborder="42" text="확정자사번" left="64.52%" top="-1" right="17.82%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
                    <Edit id="edt_vac_modifyno" taborder="43" left="17.24%" top="3" right="68.15%" height="22"/>
                    <Calendar id="cal_vac_deterdate" taborder="44" left="50.74%" top="3" right="36.3%" height="22"/>
                    <Edit id="edt_vac_deterno" taborder="45" left="83.33%" top="4" right="1.49%" height="22"/>
                    <Button id="btn_vac_deterno" taborder="46" onclick="Div01_Div03_btn_vac_deterno_onclick" left="95.79%" top="4" right="1.49%" height="22" style="image:URL('img::btn_WF_SearchSmall.png');color:white;"/>
                    <Button id="btn_vac_modifyno" taborder="47" onclick="Div01_Div03_btn_vac_modifyno_onclick" left="29.13%" top="3" right="68.15%" height="22" style="image:URL('img::btn_WF_SearchSmall.png');color:white;"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
              <Static id="sta_vac_confirmyn" taborder="41" text="확정여부" left="0.65%" top="130" right="83.29%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center;font:bold 9 굴림;"/>
              <Div id="Div00" taborder="42" left="0.57%" top="7" right="0.97%" height="32" style="border:1 solid #808080ff ;" scrollbars="none">
                <Layouts>
                  <Layout>
                    <Static id="sta_vac_daycount" taborder="64" text="발생휴가일수" left="32.34%" top="-1" right="49.92%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Static id="sta_vac_startdate" taborder="65" text="사용시작기간" left="64.52%" top="-1" right="17.74%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Static id="sta_vac_cd" taborder="66" text="연차코드번호" onclick="Div00_Div00_Div00_Static00_onclick" left="0%" top="-1" right="83.66%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Static id="Static05" taborder="67" text="*" onclick="Static05_onclick" left="29" top="458" width="11" height="22" style="color:red;font:arial,18;"/>
                    <Edit id="edt_vac_cd" taborder="68" left="17.24%" top="5" right="68.15%" height="22" enable="false"/>
                    <Button id="btn_vac_cd" taborder="69" left="29.13%" top="5" right="68.15%" height="22" style="image:URL('img::btn_WF_SearchSmall.png');color:white;" onclick="Div01_Div00_btn_vac_cd_onclick"/>
                    <Edit id="edt_vac_daycount" taborder="70" left="50.74%" top="4" right="36.3%" height="22"/>
                    <Calendar id="cal_vac_startdate" taborder="71" left="83.33%" top="6" right="1.49%" height="22"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
              <Div id="Div01" taborder="43" left="0.57%" top="38" right="0.97%" height="30" style="border:1 solid #808080ff ;" scrollbars="none">
                <Layouts>
                  <Layout>
                    <Static id="sta_vac_empno" taborder="51" text="사원번호" onclick="Div00_Div00_Div01_Static00_onclick" left="0%" top="-1" right="83.66%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Static id="sta_vac_usecount" taborder="52" text="사용휴가일수" left="32.34%" top="-1" right="49.92%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Static id="sta_vac_enddate" taborder="53" text="사용기간종료" left="64.52%" top="-1" right="17.74%" height="33" style="background:#f4edfaff;border:1 solid #808080ff ;color:#133678ff;align:center middle;font:bold 9 굴림;"/>
                    <Edit id="edt_vac_empno" taborder="54" left="17.24%" top="5" right="68.15%" height="22" oneditclick="Div01_Div01_edt_vac_empno_oneditclick" enable="false"/>
                    <Button id="btn_vac_empno" taborder="55" onclick="Div01_Div01_btn_vac_empno_onclick" left="29.13%" top="5" right="68.15%" height="22" style="image:URL('img::btn_WF_SearchSmall.png');color:white;"/>
                    <Edit id="edt_vac_usecount" taborder="56" left="50.74%" top="4" right="36.3%" height="22"/>
                    <Calendar id="cal_vac_enddate" taborder="57" left="83.33%" top="7" right="1.49%" height="22"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
              <Radio id="rad_vac_confirmyn" taborder="44" columncount="2" codecolumn="codecolumn" datacolumn="datacolumn" left="18.41%" top="139" right="63.58%" height="21" onitemclick="Div01_rad_vac_confirmyn_onitemclick">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">Y</Col>
                      <Col id="datacolumn">확정</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">N</Col>
                      <Col id="datacolumn">미확정</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
            </Layout>
          </Layouts>
        </Div>
        <Edit id="edt_vac_infosearch" taborder="39" left="17.97%" top="74" right="37.81%" height="28" oneditclick="edt_vac_infosearch_oneditclick"/>
        <Button id="btn_vac_search" taborder="40" text="조회" onclick="fn_vac_search" left="908" top="76" width="76" height="27" style="background:URL('img::btn_imgs.png') stretch 0,0;border:0 solid #999999ff ;color:#ffffffff;bordertype:round 3 3 ;align:center middle;font:bold 15 Stencil;gradation:linear 0,0 #fefefeff 0,0 #ecece5ff;"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_employee">
        <ColumnInfo>
          <Column id="EMP_NO" type="STRING" size="256"/>
          <Column id="EMP_NAME" type="STRING" size="256"/>
          <Column id="MGR_NO" type="STRING" size="256"/>
          <Column id="CURRENT_CLASS_CODE" type="STRING" size="256"/>
          <Column id="CURRENT_CODE" type="STRING" size="256"/>
          <Column id="GRADE_CLASS_CODE" type="STRING" size="256"/>
          <Column id="GRADE_CODE" type="STRING" size="256"/>
          <Column id="DEPT_CLASS_CODE" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="EMP_ID" type="STRING" size="256"/>
          <Column id="EMP_PW" type="STRING" size="256"/>
          <Column id="LAST_LOGIN" type="STRING" size="256"/>
          <Column id="ENG_NAME" type="STRING" size="256"/>
          <Column id="RESIDENT_NO" type="STRING" size="256"/>
          <Column id="HOUSEHOLDER" type="STRING" size="256"/>
          <Column id="JOIN_DATE" type="STRING" size="256"/>
          <Column id="PHONE" type="STRING" size="256"/>
          <Column id="CELL_PHONE" type="STRING" size="256"/>
          <Column id="EMAIL" type="STRING" size="256"/>
          <Column id="ADDRESS" type="STRING" size="256"/>
          <Column id="RELIGION" type="STRING" size="256"/>
          <Column id="IMAGE" type="STRING" size="256"/>
          <Column id="JOIN_CLASS_CODE" type="STRING" size="256"/>
          <Column id="JOIN_CODE" type="STRING" size="256"/>
          <Column id="HOUSEHOLDER_NAME" type="STRING" size="256"/>
          <Column id="HOUSEHOLDER_RELATION" type="STRING" size="256"/>
          <Column id="REGISTRATION_ADDRESS" type="STRING" size="256"/>
          <Column id="BIRTH" type="STRING" size="256"/>
          <Column id="MARRIAGE" type="STRING" size="256"/>
          <Column id="MARRIAGE_DATE" type="STRING" size="256"/>
          <Column id="DISABILITY" type="STRING" size="256"/>
          <Column id="REGISTRATION_ADDRESS_DETAIL" type="STRING" size="256"/>
          <Column id="ADDRESS_DETAIL" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_search">
        <ColumnInfo>
          <ConstColumn id="ConstColumn0" type="STRING" size="30" value=""/>
          <ConstColumn id="ConstColumn1" type="STRING" size="30" value=""/>
          <Column id="searchCondition" type="STRING" size="256"/>
          <Column id="searchKeyword" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_vacation_info">
        <ColumnInfo>
          <Column id="vacation_code_id" type="STRING" size="256"/>
          <Column id="use_start" type="STRING" size="256"/>
          <Column id="use_end" type="STRING" size="256"/>
          <Column id="vacation_days" type="INT" size="256"/>
          <Column id="use_days" type="INT" size="256"/>
          <Column id="emp_no" type="STRING" size="256"/>
          <Column id="join_date" type="STRING" size="256"/>
          <Column id="reg_date" type="STRING" size="256"/>
          <Column id="reg_emp_id" type="STRING" size="256"/>
          <Column id="modify_date" type="STRING" size="256"/>
          <Column id="modify_emp_id" type="STRING" size="256"/>
          <Column id="confirm_date" type="STRING" size="256"/>
          <Column id="confirm_emp_id" type="STRING" size="256"/>
          <Column id="confirmyn" type="STRING" size="256"/>
          <Column id="emp_reg_name" type="STRING" size="256"/>
          <Column id="emp_mod_name" type="STRING" size="256"/>
          <Column id="emp_ok_name" type="STRING" size="256"/>
          <Column id="emp_name" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item9" compid="Div01.Div02.edt_vac_insertno" propid="value" datasetid="ds_vacation_info" columnid="reg_emp_id"/>
      <BindItem id="item6" compid="edt_vac_infosearch" propid="value" datasetid="ds_search" columnid="searchKeyword"/>
      <BindItem id="item7" compid="edt_vac_infosearch" propid="value" datasetid="gds_empno" columnid="emp_no"/>
      <BindItem id="item0" compid="Div01.Div00.edt_vac_cd" propid="value" datasetid="ds_vacation_info" columnid="vacation_code_id"/>
      <BindItem id="item1" compid="Div01.Div00.edt_vac_daycount" propid="value" datasetid="ds_vacation_info" columnid="vacation_days"/>
      <BindItem id="item2" compid="Div01.Div00.cal_vac_startdate" propid="value" datasetid="ds_vacation_info" columnid="use_start"/>
      <BindItem id="item3" compid="Div01.Div01.edt_vac_empno" propid="value" datasetid="ds_vacation_info" columnid="emp_no"/>
      <BindItem id="item4" compid="Div01.Div01.edt_vac_usecount" propid="value" datasetid="ds_vacation_info" columnid="use_days"/>
      <BindItem id="item5" compid="Div01.Div01.cal_vac_enddate" propid="value" datasetid="ds_vacation_info" columnid="use_end"/>
      <BindItem id="item8" compid="Div01.Div02.cal_vac_insertdate" propid="value" datasetid="ds_vacation_info" columnid="reg_date"/>
      <BindItem id="item10" compid="Div01.Div02.cal_vac_modifydate" propid="value" datasetid="ds_vacation_info" columnid="modify_date"/>
      <BindItem id="item11" compid="Div01.Div03.edt_vac_modifyno" propid="value" datasetid="ds_vacation_info" columnid="modify_emp_id"/>
      <BindItem id="item12" compid="Div01.Div03.cal_vac_deterdate" propid="value" datasetid="ds_vacation_info" columnid="confirm_date"/>
      <BindItem id="item13" compid="Div01.Div03.edt_vac_deterno" propid="value" datasetid="ds_vacation_info" columnid="confirm_emp_id"/>
      <BindItem id="item14" compid="Div01.rad_vac_confirmyn" propid="value" datasetid="ds_vacation_info" columnid="confirmyn"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[include "Lib::Comm.xjs";

this.Oct_vacationInfo_onload= function(obj:Form, e:nexacro.LoadEventInfo)
{	
	Iject.formOnload(obj);
	var nRow = this.ds_search.addRow();
	this.ds_vacation_info.addRow();
	
	
	//파람 값 넘겨받기
	var strParam1 = this.parent.param1;
	var strParam2 = this.parent.param2;
	var strParam3 = this.parent.param3;
	
	trace(strParam2);
	trace(strParam1);
	this.Div01.Div00.edt_vac_cd.set_value(strParam1);
	
	//현재날짜 입력하기
	var today = new Date();
	var year = today.getFullYear().toString().padLeft(4,"0");		
 	var month = (today.getMonth()+1).toString().padLeft(2,"0");
	var day1 = today.getDate().toString().padLeft(2,"0");
 	var day2 = (today.getDate()+1).toString().padLeft(2,"0");

	this.Div01.Div02.cal_vac_insertdate.set_value(year+month+day1);
	this.Div01.Div03.cal_vac_deterdate.set_value(year+month+day1);
	this.Div01.Div02.cal_vac_modifydate.set_value(year+month+day1);

	
	//폼로드시 전체 조회
	this.fn_vac_search();
	
}

//조회
this.fn_vac_search = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var searchKeyword = this.edt_vac_infosearch.value;
	this.ds_search.setColumn(0, "searchCondition", this.searchCondition);
	this.ds_search.setColumn(0, "searchKeyword", searchKeyword);
   
   var oDatas =  {
			  svcid : "search",
			  sController : "Oct_vacationInfoSelectVO.do",			 
			  inds :["ds_search=ds_search"],
			  outds :[
				 "ds_vacation_info=output2"
			     ],			     
			  args  : [				
			  ],
			  bAsync : true,    // 비동기여부 (true : async  false: sync)
			  nDataType : 0,   // (0: XML타입, 1: 이진 타입, 2: SSV 타입)
			  bCompress :false,	 //			  
			}; 
	 trace(" this.ds_search : " + this.ds_search.saveXML());
    //공통 transaction 함수 호츨   //function callback 
	Iject.transaction(this,oDatas,function(){   
		
		//alert(" this.errorcode : " + this.errorcode);
		
		/*  
		*   callback argument
		*   @param : {string}    this.svcid      : 서비스 ID
		*   @param : {object}    this.fobj       : 현재 form object
		*   @param : {number}    this.errorcode  : 서비스 에러 코드
		*   @param : {string}    this.errormsg   : 서비스 에러 메세지
		*/   
		if(this.errorcode < 0)
		{
		   Iject.alert(this.errorMsg);			
		   return;
		} 
	      
	       var pThis = this.fobj;   //form object	      
	       //trace(" ds_search : " + pThis.ds_user.saveXML());
	});
}


//사원번호 조회
this.Div01_Div01_btn_vac_empno_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	 
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "member::YJB_empSearch.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"empModal",
							this.getOwnerFrame(),
							"",
							this);
	
	var emp_no = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_no");
	var emp_name = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_name");
	var empPlus = emp_no + "(" + emp_name +")";
	//VO에 같은 이름의 변수가 존재하거나, 
	//dataset에 번호로 컬럼 이름이 아니라 컬럼 인덱스로 접근 (ex: getColumn(0,"emp_name") x , getColumn(0,10) 10:emp_name 컬럼의 인덱스   
	this.Div01.Div01.edt_vac_empno.set_value(emp_no);

}

//수정자사번 조회
this.Div01_Div03_btn_vac_modifyno_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	 
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "member::YJB_empSearch.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"empModal",
							this.getOwnerFrame(),
							"",
							this);
	
	var emp_no = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_no");
	var emp_name = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_name");
	var empPlus = emp_no + "(" + emp_name +")";
	//VO에 같은 이름의 변수가 존재하거나, 
	//dataset에 번호로 컬럼 이름이 아니라 컬럼 인덱스로 접근 (ex: getColumn(0,"emp_name") x , getColumn(0,10) 10:emp_name 컬럼의 인덱스   
	this.Div01.Div03.edt_vac_modifyno.set_value(empPlus);

	//this.Edit01.set_value(empPlus);
}

//등록자사번 조회
this.Div01_Div02_btn_vac_insertno_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	 
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "member::YJB_empSearch.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"empModal",
							this.getOwnerFrame(),
							"",
							this);
	
	var emp_no = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_no");
	var emp_name = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_name");
	var empPlus = emp_no + "(" + emp_name +")";
	//VO에 같은 이름의 변수가 존재하거나, 
	//dataset에 번호로 컬럼 이름이 아니라 컬럼 인덱스로 접근 (ex: getColumn(0,"emp_name") x , getColumn(0,10) 10:emp_name 컬럼의 인덱스   
	this.Div01.Div02.edt_vac_insertno.set_value(empPlus);

	//this.Edit01.set_value(empPlus);
}

//확정자사번 조회
this.Div01_Div03_btn_vac_deterno_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	 
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "member::YJB_empSearch.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"empModal",
							this.getOwnerFrame(),
							"",
							this);
	
	var emp_no = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_no");
	var emp_name = application.gds_empno.getColumn(application.gds_empno.rowposition,"emp_name");
	var empPlus = emp_no + "(" + emp_name +")";
	//VO에 같은 이름의 변수가 존재하거나, 
	//dataset에 번호로 컬럼 이름이 아니라 컬럼 인덱스로 접근 (ex: getColumn(0,"emp_name") x , getColumn(0,10) 10:emp_name 컬럼의 인덱스   
	this.Div01.Div03.edt_vac_deterno.set_value(empPlus);

	//this.Edit01.set_value(empPlus);
}

//검색
this.btn_vac_empsearch_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	 
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "member::YJB_empSearch.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"empModal",
							this.getOwnerFrame(),
							"",
							this);
}


//초기화
this.btn_vac_inforeset_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	this.ds_vacation_info.reset();
}

//추가
this.btn_vac_infoinsert_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var vacation_code_id = this.parent.param1;
		var nRow = this.ds_vacation_info.addRow();//줄추가
		this.ds_vacation_info.setColumn(nRow,"vacation_code_id", vacation_code_id);
		//검색값 사원코드에 넣기
		var emp_no = this.edt_vac_infosearch.value;
		this.ds_vacation_info.setColumn(nRow,"emp_no", emp_no);
		
		
	
		var today = new Date();
		var year = today.getFullYear().toString().padLeft(4,"0");		
		var month = (today.getMonth()+1).toString().padLeft(2,"0");
		var day1 = today.getDate().toString().padLeft(2,"0");
		
		this.Div01.Div00.cal_vac_startdate.set_value(year+month+day1);
		this.Div01.Div01.cal_vac_enddate.set_value(year+month+day1);
		this.Div01.Div02.cal_vac_insertdate.set_value(year+month+day1);
		this.Div01.Div02.cal_vac_modifydate.set_value(year+month+day1);
		this.Div01.Div03.cal_vac_deterdate.set_value(year+month+day1);
	
	
}

//등록클릭
this.btn_vac_infosave_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	//발생휴가일수보다 사용휴가일수가 많을때
	var use_vacation = nexacro.toNumber(this.Div01.Div00.edt_vac_daycount.value); // 발생휴가일수
	var used_vacation = nexacro.toNumber(this.Div01.Div01.edt_vac_usecount.value); // 사용휴가일수
	
	//사용시작기간이 사용종료기간보다 늦을때
	var start_vacation = this.Div01.Div00.cal_vac_startdate.value;
	var end_vacation = this.Div01.Div01.cal_vac_enddate.value;
	

	if(use_vacation < used_vacation){
		alert("휴가 일수를 정확히 입력해 주세요");
	}else if(start_vacation > end_vacation){
			alert("사용시작기간이 사용종료기간을 확인해 주세요");
	}else{
		this.fn_save("save");	
	}			
}

//삭제클릭
this.btn_vac_infodelete_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var rtnValue = Iject.confirm("삭제 하시겠습니까?");
	var nRow = this.ds_vacation_info.rowposition;
	this.ds_vacation_info.deleteRow(nRow);
	if(rtnValue)
	{
		this.fn_save("delete");	
	}
	else
	{
		this.fn_vac_search();
	}
}


this.fn_save = function(strid)
{
	var oDatas =  {
			  svcid : strid,
			  sController : "Oct_vacationInfoModifyVO.do",			 
			  inds :["input2=ds_vacation_info:U"],
			  outds :[
				 "ds_vacation_info=output2"
			     ],			     
			  args  : [				
			  ],
			  bAsync : true,    // 비동기여부 (true : async  false: sync)
			  nDataType : 0,   // (0: XML타입, 1: 이진 타입, 2: SSV 타입)
			  bCompress :false,	 //			  
			}; 
		 trace(" this.ds_vacation_info: " + this.ds_vacation_info.saveXML());


    //공통 transaction 함수 호츨   //function callback 
	Iject.transaction(this,oDatas,function(){   
		/*  
		*   callback argument
		*   @param : {string}    this.svcid       서비스 ID
		*   @param : {object}    this.fobj        : 현재 form object
		*   @param : {number}    this.errorcode  : 서비스 에러 코드
		*   @param : {string}    this.errormsg   : 서비스 에러 메세지
		*/    
		if(this.errorcode < 0)
		{
		   Iject.alert("정보를 정확히 입력해주세요","알림");			
		   return;
		}			
	      
	       var pThis = this.fobj;   //form object
	       
	      switch(strid)
	      {
	         case "save" : 
				Iject.alert("등록완료");
				break;
				
	         case "delete" : 
	            Iject.alert("삭제완료");
				break; 		 
	      }
	      
		  pThis.fn_search();
	});
}

//연차코드번호 검색
this.Div01_Div00_btn_vac_cd_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
{
	var nLeft = system.clientToScreenX(this, 10);
	var nTop = system.clientToScreenY(this, 10);
	var empSearch = new ChildFrame;
		empSearch.init("emp"
					, "absolute", nLeft, nTop, 300, 250, null, null
					, "VACATION::OCT_Vacation_CodeList.xfdl");
					
	empSearch.set_openalign("center middle");
	empSearch.set_dragmovetype("all");
	
	system.showModalWindow(empSearch, 
							"vacationModal",
							this.getOwnerFrame(),
							"",
							this);
	
/*	this.ds_vacation_info.addRow();	*/					
	var vacation_code_id = application.gds_vacationCodeId.getColumn(application.gds_vacationCodeId.rowposition,"vacation_code_id");
	
	this.Div01.Div00.edt_vac_cd.set_value(vacation_code_id);
	
// 	var reg_emp_id = application.gds_regempno.getColumn(application.gds_regempno.rowposition,"reg_emp_no");
}


this.Div01_Div01_edt_vac_empno_oneditclick = function(obj:Edit, e:nexacro.EditClickEventInfo)
{
	
}

this.Div01_rad_vac_confirmyn_onitemclick = function(obj:Radio, e:nexacro.RadioMouseEventInfo)
{
	
}
]]></Script>
  </Form>
</FDL>
