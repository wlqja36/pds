(function()
{
    return function()
    {
        if (!this._is_form)
            return;
        
        this.on_create = function()
        {
            // Declare Reference
            var obj = null;
            
            if (Form == this.constructor) {
                this.set_name("Search_S_Book");
                this.set_titletext("New Form");
                this._setFormPosition(0,0,460,348);
            }

            
            // Object(Dataset, ExcelExportObject) Initialize
            obj = new Dataset("ds_Emp_Book1", this);
            obj._setContents("<ColumnInfo><Column id=\"EMP_NO\" type=\"STRING\" size=\"12\"/><Column id=\"EMP_NAME\" type=\"STRING\" size=\"100\"/><Column id=\"JOIN_DATE\" type=\"DATE\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"EMP_NO\">test</Col></Row></Rows>");
            this.addChild(obj.name, obj);

            obj = new Dataset("ds_search_info1", this);
            obj._setContents("<ColumnInfo><Column id=\"searchCondition\" type=\"STRING\" size=\"12\"/><Column id=\"searchKeyword\" type=\"STRING\" size=\"256\"/><Column id=\"searchDateFrom\" type=\"STRING\" size=\"256\"/><Column id=\"searchDateTo\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"searchCondition\">check</Col></Row></Rows>");
            this.addChild(obj.name, obj);


            
            // UI Components Initialize
            obj = new ImageViewer("img01", "absolute", "15", "65", "430", "272", null, null, this);
            obj.set_taborder("0");
            obj.style.set_background("lavenderblush");
            obj.style.set_border("1 solid #a8a8a8ff");
            obj.style.set_align("left middle");
            this.addChild(obj.name, obj);

            obj = new ImageViewer("img_titlebg", "absolute", "14", "7", "432", "50", null, null, this);
            obj.set_taborder("1");
            obj.style.set_background("#3366ffff");
            obj.style.set_color("#ffffffff");
            this.addChild(obj.name, obj);

            obj = new Static("sta_title", "absolute", "26", "18", "168", "29", null, null, this);
            obj.set_taborder("3");
            obj.set_text("사원 검색");
            obj.style.set_color("whitesmoke");
            obj.style.set_align("left middle");
            obj.style.set_font("굴림,12,bold");
            this.addChild(obj.name, obj);

            obj = new Grid("Grid00", "absolute", "5.22%", "75", null, "214", "5%", null, this);
            obj.set_taborder("7");
            obj.set_binddataset("ds_Emp_Book1");
            obj._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"130\"/><Column size=\"130\"/><Column size=\"130\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"사원번호\"/><Cell col=\"1\" text=\"사원명\"/><Cell col=\"2\" text=\"입사일자\"/></Band><Band id=\"body\"><Cell text=\"bind:EMP_NO\"/><Cell col=\"1\" text=\"bind:EMP_NAME\"/><Cell col=\"2\" text=\"bind:JOIN_DATE\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");
            this.addChild(obj.name, obj);

            obj = new Button("btn_select", "absolute", "368", "304", "69", "23", null, null, this);
            obj.set_taborder("9");
            obj.set_text("선택");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_border("1 solid #999999ff");
            obj.style.set_color("white");
            obj.style.set_bordertype("round 3 3");
            obj.style.set_font("bold 9 Dotum");
            obj.style.set_cursor("hand");
            obj.style.set_gradation("linear 0,0 #fefefeff 0,100 #ecece5ff");
            this.addChild(obj.name, obj);


            
            // Layout Functions
            //-- Default Layout
            obj = new Layout("default", "", 460, 348, this,
            	//-- Layout function
            	function(p) {
            		p.set_titletext("New Form");

            	}
            );
            this.addLayout(obj.name, obj);


            
            // BindItem Information

            
            // Remove Reference
            obj = null;
        };
        

        
        // User Script
        this.addIncludeScript("Search_Emp_Book.xfdl", "Lib::Comm.xjs");
        this.registerScript("Search_Emp_Book.xfdl", function() {
        /***********************************************************************************
        * Common Library
        ***********************************************************************************/
        //include "Lib::Comm.xjs";

        /***********************************************************************************
        * Form Event
        ***********************************************************************************/
        /**
         * form onload 함수
         * @return 
         * @example
         *
         * @memberOf this
         */
        this.form_onload = function(obj,e)
        {
        	
        	//기본 공통  함수 초기화
        	Iject.formOnload(obj);	
        	trace("폼 로딩됨! - Search_Emp_Book"); 
        	
        	var objParam = this.parent.param1;
        	trace("===뭐 가져왔지?? ", objParam.saveXML());
        	
        	this.ds_Emp_Book1.copyData(objParam);
        	trace("===뭐 담겼지?? ", this.ds_Emp_Book1.saveXML());

        } 

        
        this.btn_select_onclick1 = function(obj,e)
        {
        	var nRow = this.ds_Emp_Book1.rowposition;
        	trace(" rowposition : " + nRow);
        	var empNo = this.ds_Emp_Book1.getColumn(nRow , "EMP_NO");
        	var empName = this.ds_Emp_Book1.getColumn(nRow , "EMP_NAME");
        	var strReturn =empName+'('+empNo+')';
        	this.close(strReturn);
        }
        
        });


        
        // Regist UI Components Event
        this.on_initEvent = function()
        {
            this.addEventHandler("onload", this.form_onload, this);
            this.sta_title.addEventHandler("onclick", this.sta_title_onclick, this);
            this.Grid00.addEventHandler("oncellclick", this.oneCell_click, this);
            this.btn_select.addEventHandler("onclick", this.btn_select_onclick1, this);

        };

        this.loadIncludeScript("Search_Emp_Book.xfdl");

       
    };
}
)();
