(function()
{
    return function()
    {
        if (!this._is_form)
            return;
        
        this.on_create = function()
        {
            // Declare Reference
            var obj = null;
            
            if (Form == this.constructor) {
                this.set_name("A_Search");
                this.set_titletext("사원찾기");
                this._setFormPosition(0,0,558,477);
            }
            this.getSetter("inheritanceid").set("");

            
            // Object(Dataset, ExcelExportObject) Initialize
            obj = new Dataset("ds_a_search", this);
            obj._setContents("<ColumnInfo><Column id=\"attitude_book_id\" type=\"STRING\" size=\"256\"/><Column id=\"attitude_book_nm\" type=\"STRING\" size=\"256\"/></ColumnInfo>");
            this.addChild(obj.name, obj);

            obj = new Dataset("ds_search", this);
            obj._setContents("<ColumnInfo><Column id=\"searchkeyword\" type=\"STRING\" size=\"256\"/><Column id=\"search_condition\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");
            this.addChild(obj.name, obj);

            obj = new Dataset("ds_code", this);
            obj._setContents("<ColumnInfo><Column id=\"cd\" type=\"STRING\" size=\"256\"/><Column id=\"txt\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"cd\">1210</Col><Col id=\"txt\">경영지원부</Col></Row><Row><Col id=\"cd\">1220</Col><Col id=\"txt\">영업부</Col></Row><Row><Col id=\"cd\">1230</Col><Col id=\"txt\">개발부</Col></Row></Rows>");
            this.addChild(obj.name, obj);

            obj = new Dataset("ds_month", this);
            obj._setContents("<ColumnInfo><Column id=\"cd\" type=\"STRING\" size=\"256\"/><Column id=\"txt\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"cd\">01</Col><Col id=\"txt\">01월</Col></Row><Row><Col id=\"cd\">02</Col><Col id=\"txt\">02월</Col></Row><Row><Col id=\"cd\">03</Col><Col id=\"txt\">03월</Col></Row><Row><Col id=\"cd\">04</Col><Col id=\"txt\">04월</Col></Row><Row><Col id=\"cd\">05</Col><Col id=\"txt\">05월</Col></Row><Row><Col id=\"cd\">06</Col><Col id=\"txt\">06월</Col></Row><Row><Col id=\"cd\">07</Col><Col id=\"txt\">07월</Col></Row><Row><Col id=\"cd\">08</Col><Col id=\"txt\">08월</Col></Row><Row><Col id=\"cd\">09</Col><Col id=\"txt\">09월</Col></Row><Row><Col id=\"cd\">10</Col><Col id=\"txt\">10월</Col></Row><Row><Col id=\"cd\">11</Col><Col id=\"txt\">11월</Col></Row><Row><Col id=\"cd\">12</Col><Col id=\"txt\">12월</Col></Row></Rows>");
            this.addChild(obj.name, obj);


            
            // UI Components Initialize
            obj = new ImageViewer("img_titlebg1", "absolute", "9", "64", "544", "428", null, null, this);
            obj.set_taborder("24");
            obj.style.set_background("lavenderblush");
            this.addChild(obj.name, obj);

            obj = new Button("Button01", "absolute", "484", "441", "55", "23", null, null, this);
            obj.set_taborder("26");
            obj.set_text("취소");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_border("0 none #808080ff");
            obj.style.set_color("#ffffffff");
            obj.style.set_bordertype("normal 0 0");
            obj.style.set_font("bold 9 Dotum");
            obj.style.set_shadow("outer 0,0 0 gray");
            obj.getSetter("titletext").set("회원가입창");
            this.addChild(obj.name, obj);

            obj = new Div("joinTitle", "absolute", "9", "6", "544", "50", null, null, this);
            obj.set_taborder("27");
            obj.set_text("근태대장겁색");
            obj.style.set_align("left");
            obj.style.set_background("#3366ffff");
            obj.style.set_color("#ffffffff");
            obj.style.set_font("bold 12 Dotum");
            this.addChild(obj.name, obj);

            obj = new ImageViewer("img00", "absolute", "14", "121", "530", "284", null, null, this);
            obj.set_taborder("28");
            obj.style.set_background("lavenderblush");
            obj.style.set_border("1 solid #a8a8a8ff");
            obj.style.set_align("left middle");
            this.addChild(obj.name, obj);

            obj = new Grid("grd_plaintiff", "absolute", "19", "127", "520", "272", null, null, this);
            obj.set_taborder("29");
            obj.set_binddataset("ds_attitude_book");
            obj.set_scrollbars("autovert");
            obj.set_autofittype("col");
            obj.set_nodatatext("데이터가 없습니다.");
            obj._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"근태대장번호\"/><Cell col=\"1\" text=\"근태대장명\"/></Band><Band id=\"body\"><Cell text=\"bind:attitude_book_id\"/><Cell col=\"1\" text=\"bind:attitude_book_nm\"/></Band></Format></Formats>");
            this.addChild(obj.name, obj);

            obj = new Button("Button00", "absolute", "417", "441", "55", "23", null, null, this);
            obj.set_taborder("38");
            obj.set_text("선택");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_border("0 none #808080ff");
            obj.style.set_color("#ffffffff");
            obj.style.set_bordertype("normal 0 0");
            obj.style.set_font("bold 9 Dotum");
            obj.style.set_shadow("outer 0,0 0 gray");
            obj.getSetter("titletext").set("회원가입창");
            this.addChild(obj.name, obj);

            obj = new Edit("Edit05", "absolute", "306", "81", "100", "19", null, null, this);
            obj.set_taborder("40");
            obj.set_maxlength("10");
            this.addChild(obj.name, obj);

            obj = new Combo("Combo00", "absolute", "18.82%", "81", "100", "19", null, null, this);
            this.addChild(obj.name, obj);
            var Combo00_innerdataset = new Dataset("Combo00_innerdataset", this.Combo00);
            Combo00_innerdataset._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\"/><Col id=\"datacolumn\">전체</Col></Row><Row><Col id=\"codecolumn\">name</Col><Col id=\"datacolumn\">근태대장명</Col></Row></Rows>");
            obj.set_innerdataset(Combo00_innerdataset);
            obj.set_taborder("41");
            obj.set_text("전체");
            obj.set_codecolumn("codecolumn");
            obj.set_datacolumn("datacolumn");
            obj.set_index("0");

            obj = new Static("sta_no00", "absolute", "20", "78", "80", "25", null, null, this);
            obj.set_taborder("42");
            obj.set_text("검색종류");
            obj.style.set_background("#f4edfaff");
            obj.style.set_border("1 solid #c8c8c8ff");
            obj.style.set_color("#133678ff");
            obj.style.set_align("center middle");
            obj.style.set_font("bold 9 dotum");
            this.addChild(obj.name, obj);

            obj = new Button("btn_reset", "absolute", "476", "79", "55", "23", null, null, this);
            obj.set_taborder("43");
            obj.set_text("초기화");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_color("white");
            obj.style.set_font("bold 9 Dotum");
            this.addChild(obj.name, obj);

            obj = new Button("btn_sc", "absolute", "416", "79", "55", "23", null, null, this);
            obj.set_taborder("44");
            obj.set_text("검색");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_color("white");
            obj.style.set_font("bold 9 Dotum");
            this.addChild(obj.name, obj);

            obj = new Static("sta_no", "absolute", "219", "78", "80", "25", null, null, this);
            obj.set_taborder("45");
            obj.set_text("검색어");
            obj.style.set_background("#f4edfaff");
            obj.style.set_border("1 solid #c8c8c8ff");
            obj.style.set_color("#133678ff");
            obj.style.set_align("center middle");
            obj.style.set_font("bold 9 dotum");
            this.addChild(obj.name, obj);

            obj = new Static("sta_01", "absolute", "60", "78", "480", "25", null, null, this);
            obj.set_taborder("46");
            obj.style.set_background("#f0f0f0ff");
            obj.style.set_border("1 solid #a8a8a8ff");
            this.addChild(obj.name, obj);

            obj = new Static("sta_09", "absolute", "14", "73", "530", "35", null, null, this);
            obj.set_taborder("47");
            obj.style.set_background("lavenderblush");
            obj.style.set_border("1 solid #a8a8a8ff");
            this.addChild(obj.name, obj);

            obj = new Static("sta_no01", "absolute", "21", "78", "105", "25", null, null, this);
            obj.set_taborder("48");
            obj.set_text("대장번호");
            obj.style.set_background("#f4edfaff");
            obj.style.set_border("1 solid #c8c8c8ff");
            obj.style.set_color("#133678ff");
            obj.style.set_align("center middle");
            obj.style.set_font("bold 9 dotum");
            this.addChild(obj.name, obj);

            obj = new Button("btn_search", "absolute", "414", "78", "55", "23", null, null, this);
            obj.set_taborder("49");
            obj.set_text("검색");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_border("1 solid #999999ff");
            obj.style.set_color("white");
            obj.style.set_bordertype("round 3 3");
            obj.style.set_font("bold 9 Dotum");
            obj.style.set_gradation("linear 0,0 #fefefeff 0,100 #ecece5ff");
            this.addChild(obj.name, obj);

            obj = new Combo("Combo01", "absolute", "134", "81", "130", "19", null, null, this);
            this.addChild(obj.name, obj);
            var Combo01_innerdataset = new Dataset("Combo01_innerdataset", this.Combo01);
            Combo01_innerdataset._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\">CLASS_CODE</Col><Col id=\"datacolumn\">분류코드</Col></Row><Row><Col id=\"codecolumn\">CLASS_NAME</Col><Col id=\"datacolumn\">분류명칭</Col></Row><Row><Col id=\"codecolumn\">useYn</Col><Col id=\"datacolumn\">사용여부</Col></Row></Rows>");
            obj.set_innerdataset(Combo01_innerdataset);
            obj.set_taborder("50");
            obj.set_displaynulltext("전체");
            obj.set_innerdataset("ds_month");
            obj.set_codecolumn("cd");
            obj.set_datacolumn("txt");

            obj = new Combo("Combo03", "absolute", "273", "81", "130", "19", null, null, this);
            this.addChild(obj.name, obj);
            obj.set_taborder("51");
            obj.set_displaynulltext("-");
            obj.set_innerdataset("ds_code");
            obj.set_codecolumn("cd");
            obj.set_datacolumn("txt");

            obj = new Button("btn_clear", "absolute", "478", "78", "55", "23", null, null, this);
            obj.set_taborder("52");
            obj.set_text("초기화");
            obj.style.set_background("URL('img::btn_WFSA_Search_N.png') stretch 9,9 left top");
            obj.style.set_border("1 solid #999999ff");
            obj.style.set_color("white");
            obj.style.set_bordertype("round 3 3");
            obj.style.set_font("bold 9 Dotum");
            this.addChild(obj.name, obj);


            
            // Layout Functions
            //-- Default Layout
            obj = new Layout("default", "", 558, 477, this,
            	//-- Layout function
            	function(p) {
            		p.set_classname("member002");
            		p.getSetter("inheritanceid").set("");
            		p.set_titletext("사원찾기");

            	}
            );
            this.addLayout(obj.name, obj);


            
            // BindItem Information
            obj = new BindItem("item0","Edit7","value","ds_insa","address1");
            this.addChild(obj.name, obj);
            obj.bind();

            
            // Remove Reference
            obj = null;
        };
        

        
        // User Script
        this.addIncludeScript("A_Search.xfdl", "Lib::common.xjs");
        this.registerScript("A_Search.xfdl", function() {

        //include "Lib::common.xjs";

        // var objParam = {
        // 	attitude_book_id_param:application.gds_attitude_book_id
        // 					}
        // 				
        	/*				
        		this.Button00_onclick = function(obj:Button, e:nexacro.ClickEventInfo)
        {
        		var emp_no = this.ds_emp.getColumn(this.ds_emp.rowposition, "emp_no");	// 컬럼명 가져와서 변수로 저장
        		application.gds_empno.addRow(); //글데셋 행 추가
        		application.gds_empno.setColumn(application.gds_empno.rowposition, "emp_no", emp_no); //컬럼명 저장한걸 글데셋에 그대로 추가
        		this.close();
        }		

        		*/
        					
        this.Button01_onclick = function(obj,e)
        {
        	this.close();
        }

        

        this.btn_reset_onclick = function(obj,e)
        {
        	this.reload();
        }

        this.A_Search_onload = function(obj,e)
        {
        	var nRow = this.ds_search.addRow();
        	this.ds_search.setColumn(nRow,"searchKeyword","ALL");
        	this.fn_search();
        	
        }

        this.btn_reset_onclick = function(obj,e)
        {
        	
        	this.reload();
        }

        this.fn_search = function(obj,e)
        {
        	if(this.Combo01.value != null || this.Combo03.value != null){
        		 
        		 var nRow2 = this.ds_search.addRow();
        		 var searchKeyword = this.Combo01.value+this.Combo03.value;
        		 this.ds_search.setColumn(nRow2,"searchKeyword", searchKeyword);
        	}
        	
        	
        		
        	
        	 var oDatas =  {
        			  svcid : "search",
        			  sController : "asSelectVO.do",			 
        			  inds :["ds_search=ds_search"],
        			  outds :[
        				 "ds_a_search=output1"
        			     ],			     
        			  args  : [				
        			  ],
        			  bAsync : true,    
        			  nDataType : 0,   
        			  bCompress :false		  
        			}; 
        	 trace(" this.ds_search : " + this.ds_search.saveXML());
        		
        	
        	 Iject.transaction(this,oDatas,function(){   
        		
        		//alert(" this.errorcode : " + this.errorcode);
        		
        		/*  
        		*   callback argument
        		*   @param : {string}    this.svcid      : 서비스 ID
        		*   @param : {object}    this.fobj       : 현재 form object
        		*   @param : {number}    this.errorcode  : 서비스 에러 코드
        		*   @param : {string}    this.errormsg   : 서비스 에러 메세지
        		*/   
        		
        		if(this.errorcode < 0)
        		{
        		   Iject.alert(this.errorMsg);			
        		   return;
        		} 
        	       var pThis = this.fobj;   //form object	      
        	       trace(" ds_a_search : " + pThis.ds_a_search.saveXML()); //결과정보 save?
        	});
        	
        	 this.ds_search.clearData();
         					
         						
        }

        
        this.Button00_onclick = function(obj,e)
        {
        		var attitude_book_id = this.ds_a_search.getColumn(this.ds_a_search.rowposition, "attitude_book_id");	
        		application.gds_a_search.addRow();
        		application.gds_a_search.setColumn(application.gds_a_search.rowposition, "attitude_book_id", attitude_book_id);
        		////////////////////////
        		
        		var gattitude_book_id = application.gds_a_search.getColumn(gds_a_search.rowposition, "attitude_book_id");
        		
        		var objParam = {
        	param1:this.gattitude_book_id.value
        					}; 
        					
        					trace("objParam- "+attitude_book_id_param);
        					
        					//글데셋에 저장한 값을 파람으로 붙여보자
        							this.close();
        						
        }

        

        
        this.Button00_onclick = function(obj,e)
        {
        		var attitude_book_id = this.ds_a_search.getColumn(this.ds_a_search.rowposition, "attitude_book_id");	
        		application.gds_a_search.addRow();
        		application.gds_a_search.setColumn(application.gds_a_search.rowposition, "attitude_book_id", attitude_book_id);
        		this.close();
        		
        }

        //-------------------------------------------------------------------------------------------------
        // Style조정
        //-------------------------------------------------------------------------------------------------
        this.fn_SetStyle = function()
        {
        	for (var i = 0; i < this.fv_iMaxPageNum; i++)
        	{
        		this.div_page.components["stc_No"+i].style.set_color("black");			
        	}	
        }

        

        
        this.btn_clear_onclick = function(obj,e)
        {
        	this.form_onload();
        }
        
        });


        
        // Regist UI Components Event
        this.on_initEvent = function()
        {
            this.addEventHandler("onload", this.empSearch_onload, this);
            this.Button01.addEventHandler("onclick", this.Button01_onclick, this);
            this.Button00.addEventHandler("onclick", this.Button00_onclick, this);
            this.Combo00.addEventHandler("onitemchanged", this.Combo00_onitemchanged, this);
            this.btn_reset.addEventHandler("onclick", this.btn_reset_onclick, this);
            this.btn_sc.addEventHandler("onclick", this.btn_sc_onclick, this);
            this.sta_no01.addEventHandler("onclick", this.sta_no_onclick, this);
            this.btn_search.addEventHandler("onclick", this.fn_search, this);
            this.Combo01.addEventHandler("onitemchanged", this.Combo00_onitemchanged, this);
            this.btn_clear.addEventHandler("onclick", this.btn_clear_onclick, this);

        };

        this.loadIncludeScript("A_Search.xfdl");

       
    };
}
)();
